{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ritik/Desktop/e-commerce/app/Product/%5Bid%5D/page.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport ApiCall from \"@/Components/apicall\";\r\nimport Link from \"next/link\";\r\nimport Image from \"next/image\";\r\nimport { use, useEffect, useRef, useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\nexport default function ProductCard({ params }) {\r\n  const { id } = use(params);\r\n  const product_id = parseInt(id, 10);\r\n\r\n  const [products, setProducts] = useState([]);\r\n  const [product, setProduct] = useState();\r\n\r\n  const router = useRouter();\r\n\r\n  const ScrollContainer = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const fetchdata = async () => {\r\n      const products = await ApiCall();\r\n      setProducts(products);\r\n      const product = products.find((p) => p.id === product_id);\r\n      setProduct(product);\r\n    };\r\n    fetchdata();\r\n  }, [product_id]);\r\n\r\n  const handleLeftClick = () => {\r\n    ScrollContainer.current?.scrollBy({\r\n      left: -ScrollContainer.current.clientWidth,\r\n      behavior: \"smooth\",\r\n    });\r\n  };\r\n\r\n  const handleRightClick = () => {\r\n    ScrollContainer.current?.scrollBy({\r\n      left: ScrollContainer.current.clientWidth,\r\n      behavior: \"smooth\",\r\n    });\r\n  };\r\n\r\n  const handleAddToCart = (product) => {\r\n    console.log(product);\r\n    const token = localStorage.getItem(\"token\");\r\n    if (!token) {\r\n      const confirmation = confirm(\"Log In To Access the Cart\");\r\n      if (confirmation) {\r\n        router.push(\"/login\");\r\n        return;\r\n      }\r\n    } else {\r\n      let cart = JSON.parse(localStorage.getItem(\"cart\") || \"[]\");\r\n      const existingProduct = cart.find((item) => item.id === product_id);\r\n      existingProduct\r\n        ? (existingProduct.quantity += 1)\r\n        : cart.push({ ...product, quantity: 1 });\r\n      localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n      router.push(\"/cart\");\r\n    }\r\n  };\r\n\r\n  if (!product) {\r\n    return <p className=\"text-center mt-10\">Loading product...</p>;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"w-[90%] m-auto mt-10 p-3 box-border flex gap-30 bg-white\">\r\n        <Image\r\n          className=\"object-contain\"\r\n          src={product.image}\r\n          alt=\"image\"\r\n          width={500}\r\n          height={800}\r\n        />\r\n\r\n        <div className=\"flex flex-col gap-7 mt-20\">\r\n          <p className=\"text-3xl font-bold\">{product.title}</p>\r\n          <p className=\"text-lg\">{product.description}</p>\r\n          <span className=\"flex items-center gap-1\">\r\n            <span className=\"flex items-center gap-1 bg-green-700 px-2 box-border rounded-md text-white  font-bold text-[0.8rem]\">\r\n              <p>{product.rating.rate} </p>\r\n              <Image\r\n                className=\"w-[12px] aspect-1/1 invert\"\r\n                src=\"/star.svg\"\r\n                alt=\"star\"\r\n                width={24}\r\n                height={24}\r\n              />\r\n            </span>\r\n            <p>({product.rating.count})</p>\r\n          </span>\r\n          <p className=\"text-xl font-bold\">â‚¹ {product.price}</p>\r\n          <span className=\"flex gap-5 items-center font-bold text-white text-xl\">\r\n            <button\r\n              onClick={() => {\r\n                handleAddToCart(product);\r\n              }}\r\n              className=\"w-[15vw] h-[8vh] bg-yellow-400 flex gap-2 items-center justify-center rounded-md cursor-pointer hover:shadow-lg\"\r\n            >\r\n              <Image\r\n                className=\"invert\"\r\n                src=\"/cart.svg\"\r\n                alt=\"cart\"\r\n                width={24}\r\n                height={24}\r\n              />\r\n              <p>Add To Cart</p>\r\n            </button>\r\n            <button className=\"w-[15vw] h-[8vh] bg-red-800 flex gap-2 items-center justify-center rounded-md cursor-pointer hover:shadow-lg\">\r\n              <Image\r\n                className=\"invert\"\r\n                src=\"/buy.svg\"\r\n                alt=\"buy\"\r\n                width={24}\r\n                height={24}\r\n              />\r\n              <p>Buy Now</p>\r\n            </button>\r\n          </span>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"relative bg-white w-[95%] h-[50vh] m-auto my-5 pt-2 box-border\">\r\n        <div\r\n          onClick={handleLeftClick}\r\n          className=\"absolute z-100 top-1/2 -translate-y-1/2 left-0  h-[15vh] w-[2.5vw] rounded-r-md flex items-center justify-center bg-gray-200 shadow-md cursor-pointer\"\r\n        >\r\n          <b>&lt;</b>\r\n        </div>\r\n        <div className=\"text-2xl font-bold mb-5 ml-5 \">All Products : </div>\r\n        <div\r\n          ref={ScrollContainer}\r\n          className=\"w-[100%] h-[40vh] pl-2 box-border grid grid-flow-col auto-cols-[22.5vw] gap-5 overflow-hidden overflow-x-auto scroll-smooth snap-x snap-mandatory\"\r\n        >\r\n          {products.map((p) => (\r\n            <Link href={`/Product/${p.id}`} key={p.id}>\r\n              <div className=\"  min-w-[100%] h-[33vh] snap-center hover:scale-102\">\r\n                <Image\r\n                  className=\"w-[100%] h-[80%] object-contain\"\r\n                  src={p.image}\r\n                  alt=\"image\"\r\n                  width={100}\r\n                  height={100}\r\n                />\r\n                <p className=\"line-clamp-1 mt-7 text-center\">{p.title}</p>\r\n                <p className=\"font-bold text-center\">Rs. {p.price}</p>\r\n              </div>\r\n            </Link>\r\n          ))}\r\n        </div>\r\n        <div\r\n          onClick={handleRightClick}\r\n          className=\"absolute z-100 top-1/2 -translate-y-1/2  right-0  h-[15vh] w-[2.5vw] rounded-l-md flex items-center justify-center bg-gray-200 shadow-md cursor-pointer\"\r\n        >\r\n          <b>&gt;</b>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}